plugins {
    id('java-library')
    id('com.diffplug.spotless').version('6.0.5')
}

dependencies {
    api('com.google.guava:guava:31.0.1-jre')
    api('org.apache.commons:commons-lang3:3.12.0')
    api('commons-io:commons-io:2.11.0')
    api('org.apache.commons:commons-collections4:4.4')
    compileOnly('org.projectlombok:lombok:1.18.22')
    annotationProcessor('org.projectlombok:lombok:1.18.22')

    testImplementation('org.springframework.boot:spring-boot-starter-test:2.6.2')
}

java {
    sourceCompatibility(JavaVersion.VERSION_11)
    targetCompatibility(JavaVersion.VERSION_11)
}

tasks.withType(JavaCompile) {
    options.encoding('UTF-8')
}

spotless {
    encoding('UTF-8')
    java {
        indentWithSpaces()
        removeUnusedImports()
        trimTrailingWhitespace()
        endWithNewline()
        eclipse().configFile("${rootDir}/gradle/config/formatter.xml")
    }
}
